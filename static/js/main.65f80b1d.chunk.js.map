{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/default.jpg","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/services/imgAPI.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","state","search","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","webformatURL","tags","largeImageURL","src","alt","data-img","defaultProps","defaultImage","ImageGallery","images","onClick","map","id","Button","window","scrollTo","top","document","documentElement","scrollHeight","behavior","getImg","searchQuery","page","axios","get","propTypes","PropTypes","string","isRequired","number","Loader","isLoading","loading","color","modalRoot","querySelector","Modal","handleKeyClose","code","onClose","handleBackdropClose","currentTarget","addEventListener","removeEventListener","createPortal","onLoad","isLoad","App","error","showModal","largeImg","formSubmitQuery","query","fetchImages","options","then","resp","prevState","data","hits","catch","finally","onImgClick","dataset","img","nodeName","toggleModal","prevProps","renderBtn","length","console","log","ReactDOM","render","StrictMode","getElementById"],"mappings":"wQA6CeA,E,4MA1CbC,MAAQ,CACNC,OAAQ,I,EAGVC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,OAAQE,EAAEE,OAAOC,S,EAGnCC,aAAe,SAAAJ,GACbA,EAAEK,iBAGF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,QAE/B,EAAKG,SAAS,CAAEH,OAAQ,M,4CAG1B,WAAU,IACAA,EAAWU,KAAKX,MAAhBC,OAER,OACE,wBAAQW,UAAU,YAAlB,SACE,uBAAMF,SAAUC,KAAKJ,aAAcK,UAAU,aAA7C,UACE,wBAAQC,KAAK,SAASD,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZV,MAAOL,EACPgB,SAAUN,KAAKT,wB,GAnCHgB,IAAMC,WCFf,MAA0B,oCCInCC,E,4JAYJ,WAAU,IAAD,EACuCT,KAAKF,MAA3CY,EADD,EACCA,aAAcC,EADf,EACeA,KAAMC,EADrB,EACqBA,cAE5B,OACE,oBAAIX,UAAU,mBAAd,SACE,qBACEA,UAAU,yBACVY,IAAKH,EACLI,IAAKH,EACLI,WAAUH,U,GArBWL,IAAMC,WAA/BC,EACGO,aAAe,CACpBN,aAAcO,EACdL,cAAeK,GAyBJR,QCDAS,E,4JAlBb,WAAU,IAAD,EACqBlB,KAAKF,MAAzBqB,EADD,EACCA,OAAQC,EADT,EACSA,QAEhB,OACE,oBAAIA,QAASA,EAASnB,UAAU,eAAhC,SACGkB,EAAOE,KAAI,gBAAGC,EAAH,EAAGA,GAAIZ,EAAP,EAAOA,aAAcE,EAArB,EAAqBA,cAAeD,EAApC,EAAoCA,KAApC,OACV,cAAC,EAAD,CAEED,aAAcA,EACdE,cAAeA,EACfD,KAAMA,GAHDW,Y,GAhBUf,IAAMC,WCiBlBe,EAnBA,SAAC,GAAiB,IAAfH,EAAc,EAAdA,QAMhB,OALAI,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,WAIV,qBAAK7B,UAAU,SAAf,SACE,wBAAQA,UAAU,SAASC,KAAK,SAASkB,QAASA,EAAlD,0B,iCCLAW,EAAS,SAAC,GAAoC,IAAD,IAAjCC,mBAAiC,MAAnB,GAAmB,MAAfC,YAAe,MAAR,EAAQ,EACjD,OAAOC,IAAMC,IAAN,qCACyBH,EADzB,iBAC6CC,EAD7C,gBAHG,qCAGH,0DAKTF,EAAOK,UAAY,CACjBJ,YAAaK,IAAUC,OAAOC,WAC9BN,KAAMI,IAAUG,OAAOD,YAGVR,Q,iBCAAU,EAZA,SAAAC,GACb,OACE,qBAAKzC,UAAU,YAAf,SACE,cAAC,IAAD,CAAiB0C,QAASD,EAAWE,MAAO,WCH5CC,EAAYlB,SAASmB,cAAc,eA4C1BC,E,4MAzCb1D,MAAQ,CACNqD,WAAW,G,EAWbM,eAAiB,SAAAxD,GACA,WAAXA,EAAEyD,MACJ,EAAKnD,MAAMoD,W,EAIfC,oBAAsB,SAAA3D,GAChBA,EAAE4D,gBAAkB5D,EAAEE,QACxB,EAAKI,MAAMoD,W,uDAhBf,WACE1B,OAAO6B,iBAAiB,UAAWrD,KAAKgD,kB,kCAG1C,WACExB,OAAO8B,oBAAoB,UAAWtD,KAAKgD,kB,oBAe7C,WAAU,IAAD,EACchD,KAAKF,MAAlBe,EADD,EACCA,IAAKC,EADN,EACMA,IACL4B,EAAc1C,KAAKX,MAAnBqD,UAER,OAAOa,uBACL,qBAAKtD,UAAU,UAAUmB,QAASpB,KAAKmD,oBAAvC,SACE,sBAAKlD,UAAU,QAAf,UACE,qBAAKY,IAAKA,EAAKC,IAAKA,EAAK0C,OAAQxD,KAAKyD,SAErCf,GAAa,cAAC,EAAD,CAAQA,UAAWA,SAGrCG,O,GArCctC,IAAMC,WCiFXkD,E,4MA7EbrE,MAAQ,CACN8B,OAAQ,GACRc,KAAM,EACND,YAAa,GACbU,WAAW,EACXiB,MAAO,KACPC,WAAW,EACXC,SAAU,CAAEhD,IAAK,GAAIC,IAAK,K,EAS5BgD,gBAAkB,SAAAC,GAChB,EAAKtE,SAAS,CAAEuC,YAAa+B,EAAO5C,OAAQ,GAAIc,KAAM,EAAG0B,MAAO,Q,EAGlEK,YAAc,WAAO,IAAD,EACY,EAAK3E,MAC7B4E,EAAU,CAAEhC,KAFA,EACVA,KACgBD,YAFN,EACJA,aAEd,EAAKvC,SAAS,CAAEiD,WAAW,IAE3BX,EAAOkC,GACJC,MAAK,SAAAC,GACJ,EAAK1E,UAAS,SAAA2E,GAAS,MAAK,CAC1BjD,OAAO,GAAD,mBAAMiD,EAAUjD,QAAhB,YAA2BgD,EAAKE,KAAKC,OAC3CrC,KAAMmC,EAAUnC,KAAO,SAG1BsC,OAAM,SAAAZ,GAAK,OAAI,EAAKlE,SAAS,CAAEkE,aAC/Ba,SAAQ,kBAAM,EAAK/E,SAAS,CAAEiD,WAAW,Q,EAG9C+B,WAAa,SAAAjF,GACX,IAAMqB,EAAMrB,EAAEE,OAAOgF,QAAQC,IACvB7D,EAAMtB,EAAEE,OAAOoB,IAEK,QAAtBtB,EAAEE,OAAOkF,UACX,EAAKnF,SAAS,CAAEoE,SAAU,CAAEhD,MAAKC,SAGnC,EAAK+D,e,EAGPA,YAAc,WACZ,EAAKpF,UAAS,kBAAoB,CAChCmE,WADY,EAAGA,e,wDAtCnB,SAAmBkB,EAAWV,GACxBA,EAAUpC,cAAgBhC,KAAKX,MAAM2C,aACvChC,KAAKgE,gB,oBAyCT,WAAU,IAAD,EACyChE,KAAKX,MAA7C8B,EADD,EACCA,OAAQuB,EADT,EACSA,UAAWkB,EADpB,EACoBA,UAAWD,EAD/B,EAC+BA,MAD/B,EAEc3D,KAAKX,MAAMwE,SAAxBhD,EAFD,EAECA,IAAKC,EAFN,EAEMA,IACPiE,EAAY5D,EAAO6D,OAAS,IAAMtC,EAGxC,OAFAuC,QAAQC,IAAI/D,GAGV,gCACE,cAAC,EAAD,CAAWpB,SAAUC,KAAK8D,kBAE1B,cAAC,EAAD,CAAc3C,OAAQA,EAAQC,QAASpB,KAAKyE,aAE3C/B,GAAa,cAAC,EAAD,CAAQA,UAAWA,IAEhCqC,GAAa,cAAC,EAAD,CAAQ3D,QAASpB,KAAKgE,cAEnCJ,GAAa,cAAC,EAAD,CAAO/C,IAAKA,EAAKC,IAAKA,EAAKoC,QAASlD,KAAK6E,cAEtDlB,GAAS,6BAAKA,W,GAxELpD,IAAMC,W,MCJxB2E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1D,SAAS2D,eAAe,W","file":"static/js/main.65f80b1d.chunk.js","sourcesContent":["import React from 'react';\n\nclass Searchbar extends React.Component {\n  state = {\n    search: '',\n  };\n\n  handleChange = e => {\n    this.setState({ search: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    // передача пропа в App\n    this.props.onSubmit(this.state.search);\n\n    this.setState({ search: '' });\n  };\n\n  render() {\n    const { search } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={search}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport defaultImage from './default.jpg';\n\nclass ImageGalleryItem extends React.Component {\n  static defaultProps = {\n    webformatURL: defaultImage,\n    largeImageURL: defaultImage,\n  };\n\n  static propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const { webformatURL, tags, largeImageURL } = this.props;\n\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          className=\"ImageGalleryItem-image\"\n          src={webformatURL}\n          alt={tags}\n          data-img={largeImageURL}\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends React.Component {\n  static propTypes = {\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n      }),\n    ).isRequired,\n  };\n\n  render() {\n    const { images, onClick } = this.props;\n\n    return (\n      <ul onClick={onClick} className=\"ImageGallery\">\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            tags={tags}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n\n  return (\n    <div className=\"btnDiv\">\n      <button className=\"Button\" type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst key = '19779952-34022b0aec99bb73ff26dde3b';\n\nconst getImg = ({ searchQuery = '', page = 1 }) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\ngetImg.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default getImg;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PropagateLoader from 'react-spinners/PropagateLoader';\n\nconst Loader = isLoading => {\n  return (\n    <div className=\"loaderDiv\">\n      <PropagateLoader loading={isLoading} color={'red'} />\n    </div>\n  );\n};\n\nLoader.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default Loader;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport Loader from '../Loader';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends React.Component {\n  state = {\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyClose);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyClose);\n  }\n\n  handleKeyClose = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    const { isLoading } = this.state;\n\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClose}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} onLoad={this.isLoad} />\n\n          {isLoading && <Loader isLoading={isLoading} />}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport './styles.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button/Button';\nimport getImg from './components/services/imgAPI';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\n\nclass App extends React.Component {\n  state = {\n    images: [],\n    page: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImg: { src: '', alt: '' },\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  formSubmitQuery = query => {\n    this.setState({ searchQuery: query, images: [], page: 1, error: null });\n  };\n\n  fetchImages = () => {\n    const { page, searchQuery } = this.state;\n    const options = { page, searchQuery };\n    this.setState({ isLoading: true });\n\n    getImg(options)\n      .then(resp => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...resp.data.hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onImgClick = e => {\n    const src = e.target.dataset.img;\n    const alt = e.target.alt;\n\n    if (e.target.nodeName === 'IMG') {\n      this.setState({ largeImg: { src, alt } });\n    }\n\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, showModal, error } = this.state;\n    const { src, alt } = this.state.largeImg;\n    const renderBtn = images.length > 0 && !isLoading;\n    console.log(images);\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.formSubmitQuery} />\n\n        <ImageGallery images={images} onClick={this.onImgClick} />\n\n        {isLoading && <Loader isLoading={isLoading} />}\n\n        {renderBtn && <Button onClick={this.fetchImages} />}\n\n        {showModal && <Modal src={src} alt={alt} onClose={this.toggleModal} />}\n\n        {error && <h1>{error}</h1>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}